# 前端模块概述

## 1. 模块化设计

MyBlog前端采用模块化设计，将整个应用划分为多个独立的功能模块，每个模块负责特定的业务领域。这种设计使得代码更易于维护、测试和扩展。

## 2. 模块结构

### 2.1 模块目录

```
src/modules/
├── auth/           # 认证模块
├── blog/           # 博客模块
├── explore/        # 探索模块
├── profile/        # 个人中心模块
├── dashboard/      # 仪表盘模块
└── settings/       # 设置模块
```

### 2.2 模块组织

每个模块都遵循统一的组织结构：

```
modules/{module_name}/
├── components/     # 模块专属组件
├── services/       # 模块专属API服务
├── store/         # 模块专属状态管理
└── index.js       # 模块入口文件
```

## 3. 模块详解

### 3.1 Auth 模块

**功能**：用户认证和授权

**主要组件**：
- LoginPage.vue - 登录页面
- RegisterPage.vue - 注册页面

**主要服务**：
- authService.js - 认证相关API调用

**主要功能**：
- 用户登录
- 用户注册
- Token管理
- 认证状态检查

**路由配置**：
```javascript
{
  path: '/login',
  name: 'Login',
  component: LoginPage,
  meta: {
    requiresAuth: false
  }
},
{
  path: '/register',
  name: 'Register',
  component: RegisterPage,
  meta: {
    requiresAuth: false
  }
}
```

### 3.2 Blog 模块

**功能**：博客主页展示

**主要组件**：
- HomePage.vue - 博客主页

**主要功能**：
- 博客文章列表展示
- 首页动画效果
- 主题切换
- 搜索功能

**路由配置**：
```javascript
{
  path: '/',
  name: 'Home',
  component: HomePage,
  meta: {
    requiresAuth: false
  }
}
```

### 3.3 Explore 模块

**功能**：内容探索和文章详情

**主要组件**：
- ExplorePage.vue - 探索页面
- ExploreSidebar.vue - 探索侧边栏
- PostDetailPage.vue - 文章详情页
- PostList.vue - 文章列表

**主要服务**：
- postService.js - 文章相关API调用

**主要功能**：
- 文章浏览和筛选
- 文章详情展示
- 评论展示
- 点赞功能

**路由配置**：
```javascript
{
  path: '/explore',
  name: 'Explore',
  component: ExplorePage,
  meta: {
    requiresAuth: false
  }
},
{
  path: '/explore/post/:id',
  name: 'PostDetail',
  component: PostDetailPage,
  meta: {
    requiresAuth: false
  }
}
```

### 3.4 Profile 模块

**功能**：用户个人中心

**主要组件**：
- ProfilePage.vue - 个人中心页面
- PostEditor.vue - 文章编辑器
- ThemeSettings.vue - 主题设置

**主要服务**：
- profileService.js - 个人中心相关API调用
- postService.js - 文章相关API调用

**主要功能**：
- 用户信息展示
- 文章发布和编辑
- 主题设置
- 个人文章管理

**路由配置**：
```javascript
{
  path: '/profile',
  name: 'Profile',
  component: ProfilePage,
  meta: {
    requiresAuth: true
  }
}
```

### 3.5 Dashboard 模块

**功能**：数据仪表盘

**主要组件**：
- DashboardPage.vue - 仪表盘页面

**主要功能**：
- 数据统计展示
- 图表可视化
- 用户行为分析

**路由配置**：
```javascript
{
  path: '/dashboard',
  name: 'Dashboard',
  component: DashboardPage,
  meta: {
    requiresAuth: true
  }
}
```

### 3.6 Settings 模块

**功能**：系统设置

**主要功能**：
- 系统配置
- 偏好设置
- 账号管理

**路由配置**：
```javascript
{
  path: '/settings',
  name: 'Settings',
  component: SettingsPage,
  meta: {
    requiresAuth: true
  }
}
```

## 4. 模块间通信

### 4.1 服务层通信

每个模块都有自己的服务层，负责与后端API通信：

```javascript
// modules/explore/services/postService.js
import http from '@/utils/http';

export const postService = {
  getPosts() {
    return http.get('/api/post-service/posts');
  },
  
  getPost(postId) {
    return http.get(`/api/post-service/posts/${postId}`);
  }
};
```

### 4.2 状态管理

每个模块都有自己的状态管理，使用Vue 3的响应式API：

```javascript
// modules/explore/store/index.js
import { reactive } from 'vue';

export const useExploreStore = () => {
  const state = reactive({
    posts: [],
    currentPost: null,
    loading: false
  });
  
  const actions = {
    setPosts(posts) {
      state.posts = posts;
    },
    
    setCurrentPost(post) {
      state.currentPost = post;
    }
  };
  
  return {
    ...state,
    ...actions
  };
};
```

### 4.3 路由守卫

使用路由守卫控制模块访问权限：

```javascript
router.beforeEach((to, from, next) => {
  const requiresAuth = to.meta.requiresAuth;
  
  if (requiresAuth && !isAuthenticated()) {
    next('/login');
  } else {
    next();
  }
});
```

## 5. 模块开发规范

### 5.1 命名规范

- **模块目录**：使用kebab-case，如`explore`、`user-profile`
- **组件文件**：使用PascalCase，如`ExplorePage.vue`
- **服务文件**：使用camelCase，如`postService.js`
- **状态文件**：使用index.js作为入口

### 5.2 组件开发

每个模块的组件应该：

- 使用Vue 3的组合式API
- 使用`<script setup>`语法
- 组件职责单一
- Props和Emits明确定义
- 使用scoped样式避免样式污染

### 5.3 服务开发

每个模块的服务应该：

- 封装API调用逻辑
- 统一错误处理
- 提供清晰的接口
- 支持请求取消
- 实现请求重试机制

### 5.4 状态管理

每个模块的状态管理应该：

- 使用响应式API
- 状态和操作分离
- 提供清晰的接口
- 支持状态持久化（如需要）

## 6. 模块依赖

### 6.1 共享依赖

所有模块共享的依赖：

- **通用组件**：`src/components/_base/`
  - AnimationBackground.vue - 动画背景
  - BaseButton.vue - 基础按钮
  - Footer.vue - 页脚
  - Icon.vue - 图标
  - Logo.vue - Logo
  - Navbar.vue - 导航栏
  - SearchInput.vue - 搜索输入
  - UserAvatar.vue - 用户头像

- **工具函数**：`src/utils/`
  - 3dAnimation.js - 3D动画
  - animationAlgorithms.js - 动画算法
  - animationPerformance.js - 动画性能
  - authAnimations.js - 认证动画
  - colorEngine.js - 颜色引擎
  - footerState.js - 页脚状态
  - themeAnimations.js - 主题动画
  - threeAnimation.js - Three.js动画
  - threeModels.js - Three.js模型
  - threeScene.js - Three.js场景

- **样式文件**：`src/styles/`
  - base.css - 基础样式
  - components.css - 组件样式
  - index.css - 入口样式
  - modules.css - 模块样式
  - variables.css - CSS变量

### 6.2 第三方依赖

所有模块共享的第三方库：

- **Vue 3**：前端框架
- **Vue Router**：路由管理
- **Three.js**：3D渲染
- **GSAP**：动画库
- **lucide-vue-next**：图标库

## 7. 模块扩展

### 7.1 添加新模块

添加新模块的步骤：

1. 在`src/modules/`下创建新模块目录
2. 创建模块的子目录结构（components、services、store）
3. 实现模块的组件和服务
4. 在`src/router/router.js`中添加路由配置
5. 在导航栏中添加模块入口（如需要）

### 7.2 模块重构

重构模块时应该：

- 保持模块接口不变
- 逐步替换内部实现
- 更新相关文档
- 进行充分的测试

## 8. 最佳实践

### 8.1 模块设计原则

- **单一职责**：每个模块只负责一个业务领域
- **高内聚低耦合**：模块内部高度内聚，模块之间低耦合
- **可测试性**：模块应该易于单元测试
- **可维护性**：代码应该清晰易懂

### 8.2 性能优化

- **懒加载**：使用动态导入实现路由懒加载
- **代码分割**：合理分割代码，减少初始加载体积
- **缓存策略**：合理使用缓存减少API请求
- **动画优化**：使用GPU加速的动画库

### 8.3 用户体验

- **加载状态**：提供清晰的加载反馈
- **错误处理**：友好的错误提示
- **空状态**：合理处理空数据情况
- **响应式设计**：适配不同屏幕尺寸

## 9. 总结

MyBlog前端采用模块化设计，将应用划分为多个独立的功能模块，每个模块负责特定的业务领域。这种设计使得代码更易于维护、测试和扩展。

通过统一的模块结构和开发规范，确保了代码的一致性和可维护性。同时，模块化的设计也支持了团队协作和并行开发。

---

**文档版本**：v2.0.0
**最后更新**：2026-01-30
**维护者**：MyBlog开发团队
